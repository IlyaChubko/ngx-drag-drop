"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[775],{5775:(T,m,i)=>{i.r(m),i.d(m,{default:()=>x});var l=i(177),s=i(5596),p=i(9213),c=i(866),e=i(3953),f=i(1057);const g=d=>({$implicit:d});function u(d,_){1&d&&(e.j41(0,"div",12)(1,"mat-icon",13),e.EFF(2,"drag_handle "),e.k0s()())}function D(d,_){1&d&&(e.j41(0,"div",14),e.EFF(1," MY_CUSTOM_DRAG_IMAGE "),e.k0s())}function h(d,_){1&d&&e.eu8(0)}function E(d,_){if(1&d){const n=e.RV6();e.j41(0,"div",15),e.bIt("dndDrop",function(t){e.eBV(n);const r=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.onDrop(t,r.children))}),e.DNE(1,h,1,0,"ng-container",3),e.k0s()}if(2&d){const n=e.XpG().$implicit;e.XpG(2);const a=e.sdS(2);e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(2,g,n.children))}}function C(d,_){if(1&d){const n=e.RV6();e.j41(0,"mat-card",6),e.bIt("dndCanceled",function(){const t=e.eBV(n).$implicit,r=e.XpG().$implicit,o=e.XpG();return e.Njj(o.onDragged(t,r,"none"))})("dndCopied",function(){const t=e.eBV(n).$implicit,r=e.XpG().$implicit,o=e.XpG();return e.Njj(o.onDragged(t,r,"copy"))})("dndEnd",function(t){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDragEnd(t))})("dndLinked",function(){const t=e.eBV(n).$implicit,r=e.XpG().$implicit,o=e.XpG();return e.Njj(o.onDragged(t,r,"link"))})("dndMoved",function(){const t=e.eBV(n).$implicit,r=e.XpG().$implicit,o=e.XpG();return e.Njj(o.onDragged(t,r,"move"))})("dndStart",function(t){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDragStart(t))}),e.j41(1,"mat-card-header",7),e.DNE(2,u,3,0,"div",8),e.EFF(3),e.k0s(),e.j41(4,"mat-card-content",9),e.DNE(5,D,2,0,"div",10)(6,E,2,4,"div",11),e.k0s()()}if(2&d){const n=_.$implicit;e.Y8G("dndDisableIf",!!n.disable)("dndDraggable",n),e.R7$(2),e.Y8G("ngIf",n.handle),e.R7$(),e.SpI(" ",n.content," "),e.R7$(2),e.Y8G("ngIf",!!n.customDragImage),e.R7$(),e.Y8G("ngIf",n.children)}}function v(d,_){if(1&d&&(e.nrm(0,"mat-card",4),e.DNE(1,C,7,6,"mat-card",5)),2&d){const n=_.$implicit;e.R7$(),e.Y8G("ngForOf",n)}}function N(d,_){1&d&&e.eu8(0)}let x=(()=>{class d{snackBarService;nestableList=[{content:"Got something nested",children:[{content:"Nested",customDragImage:!0,children:[]}]},{content:"No nested dropping here"},{content:"Got more than one",children:[{content:"Nested 1",handle:!0,children:[]},{content:"Nested 2",children:[]},{content:"Nested 3",children:[]}]},{content:"Drop something, I'll catch!",children:[]}];currentDraggableEvent;currentDragEffectMsg;constructor(n){this.snackBarService=n}onDragStart(n){this.currentDragEffectMsg="",this.currentDraggableEvent=n,this.snackBarService.dismiss(),this.snackBarService.open("Drag started!",void 0,{duration:2e3})}onDragged(n,a,t){if(this.currentDragEffectMsg=`Drag ended with effect "${t}"!`,"move"===t){const r=a.indexOf(n);a.splice(r,1)}}onDragEnd(n){this.currentDraggableEvent=n,this.snackBarService.dismiss(),this.snackBarService.open(this.currentDragEffectMsg||"Drag ended!",void 0,{duration:2e3})}onDrop(n,a){if(a&&("copy"===n.dropEffect||"move"===n.dropEffect)){let t=n.index;typeof t>"u"&&(t=a.length),a.splice(t,0,n.data)}}static \u0275fac=function(a){return new(a||d)(e.rXU(f.UG))};static \u0275cmp=e.VBU({type:d,selectors:[["dnd-nested"]],standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[["recursiveList",""],[1,"container-fluid"],["dndDropzone","",1,"d-flex","gap-3","p-3","rounded-2",3,"dndDrop"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["appearance","raised","dndPlaceholderRef","",1,"dndPlaceholder"],["appearance","raised","dndEffectAllowed","move",3,"dndDisableIf","dndDraggable","dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart",4,"ngFor","ngForOf"],["appearance","raised","dndEffectAllowed","move",3,"dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart","dndDisableIf","dndDraggable"],[1,"p-2"],["class","drag-handle me-2 text-muted",4,"ngIf"],[1,"d-flex","align-items-start","gap-2","flex-column","p-2"],["dndDragImageRef","",4,"ngIf"],["class","flex-column p-2 gap-2 rounded-2","dndDropzone","",3,"dndDrop",4,"ngIf"],[1,"drag-handle","me-2","text-muted"],["dndHandle","","mat-list-icon",""],["dndDragImageRef",""],["dndDropzone","",1,"flex-column","p-2","gap-2","rounded-2",3,"dndDrop"]],template:function(a,t){if(1&a){const r=e.RV6();e.j41(0,"div",1),e.DNE(1,v,2,1,"ng-template",null,0,e.C5r),e.j41(3,"div",2),e.bIt("dndDrop",function(M){return e.eBV(r),e.Njj(t.onDrop(M,t.nestableList))}),e.DNE(4,N,1,0,"ng-container",3),e.k0s()()}if(2&a){const r=e.sdS(2);e.R7$(4),e.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",e.eq3(2,g,t.nestableList))}},dependencies:[s.Hu,s.RN,s.m2,s.MM,c.GI,l.Sq,c.zr,l.bT,p.m_,p.An,c.A7,c.SH,c.hN,l.T3],styles:["[_nghost-%COMP%]{display:block;box-sizing:border-box}mat-card[_ngcontent-%COMP%]{transition:transform .2s,opacity .2s}mat-card-header[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.04);align-items:center;min-height:46px}.dndDraggingSource[_ngcontent-%COMP%]{opacity:.5;transform:scale(.98)}.dndPlaceholder[_ngcontent-%COMP%]{background:#fff;min-height:46px;min-width:46px}[dnddropzone][_ngcontent-%COMP%]{background:#fafafa;min-height:60px;display:flex;outline:2px solid rgba(0,0,0,.04)}"]})}return d})()}}]);